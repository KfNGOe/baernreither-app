(window.webpackJsonp=window.webpackJsonp||[]).push([[18,63],{159:function(e,t,n){"use strict";n.r(t);n(4),n(11),n(12),n(10),n(17),n(45),n(56),n(55),n(265),n(261);function r(e){e.theme="bs3"}angular.module("graphdb.framework.sparql",["LocalStorageModule","xeditable","ngAnimate","ngRoute","toastr","graphdb.framework.core.directives","graphdb.framework.core.services.repositories","graphdb.framework.rest.sparql.service","graphdb.framework.core.directives.queryeditor.controllers","graphdb.framework.core.directives.queryeditor.sparqltab","graphdb.framework.core.directives.queryeditor.queryeditor"]).run(r),r.$inject=["editableOptions"]},261:function(e,t,n){var r,a=a||function(e){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),a=e.webkitRequestFileSystem,o=e.requestFileSystem||a||e.mozRequestFileSystem,i=function(t){(e.setImmediate||e.setTimeout)((function(){throw t}),0)},s=0,c=function(t){var r=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};e.chrome?r():setTimeout(r,500)},l=function(e,t,n){for(var r=(t=[].concat(t)).length;r--;){var a=e["on"+t[r]];if("function"==typeof a)try{a.call(e,n||e)}catch(e){i(e)}}},d=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e},u=function(t,i){t=d(t);var u,f,b,p=this,m=t.type,g=!1,h=function(){l(p,"writestart progress write writeend".split(" "))},w=function(){(!g&&u||(u=n().createObjectURL(t)),f)?f.location.href=u:null==e.open(u,"_blank")&&"undefined"!=typeof safari&&(e.location.href=u);p.readyState=p.DONE,h(),c(u)},y=function(e){return function(){if(p.readyState!==p.DONE)return e.apply(this,arguments)}},v={create:!0,exclusive:!1};if(p.readyState=p.INIT,i||(i="download"),r)return u=n().createObjectURL(t),r.href=u,r.download=i,void setTimeout((function(){var e,t;e=r,t=new MouseEvent("click"),e.dispatchEvent(t),h(),c(u),p.readyState=p.DONE}));e.chrome&&m&&"application/octet-stream"!==m&&(b=t.slice||t.webkitSlice,t=b.call(t,0,t.size,"application/octet-stream"),g=!0),a&&"download"!==i&&(i+=".download"),("application/octet-stream"===m||a)&&(f=e),o?(s+=t.size,o(e.TEMPORARY,s,y((function(e){e.root.getDirectory("saved",v,y((function(e){var n=function(){e.getFile(i,v,y((function(e){e.createWriter(y((function(n){n.onwriteend=function(t){f.location.href=e.toURL(),p.readyState=p.DONE,l(p,"writeend",t),c(e)},n.onerror=function(){var e=n.error;e.code!==e.ABORT_ERR&&w()},"writestart progress write abort".split(" ").forEach((function(e){n["on"+e]=p["on"+e]})),n.write(t),p.abort=function(){n.abort(),p.readyState=p.DONE},p.readyState=p.WRITING})),w)})),w)};e.getFile(i,{create:!1},y((function(e){e.remove(),n()})),y((function(e){e.code===e.NOT_FOUND_ERR?n():w()})))})),w)})),w)):w()},f=u.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t){return navigator.msSaveOrOpenBlob(d(e),t)}:(f.abort=function(){this.readyState=this.DONE,l(this,"abort")},f.readyState=f.INIT=0,f.WRITING=1,f.DONE=2,f.error=f.onwritestart=f.onprogress=f.onwrite=f.onabort=f.onerror=f.onwriteend=null,function(e,t){return new u(e,t)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */e.exports?e.exports.saveAs=a:null!==n(262)&&null!=n(263)&&(void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r))},262:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},263:function(e,t){(function(t){e.exports=t}).call(this,{})},45:function(e,t,n){"use strict";n.r(t);n(5);function r(e,t,n,r){return{restrict:"AE",template:'<a class="nav-link" role="tab" data-toggle="tab" blur="submit" editable-text="tab.name" e-form="editCurrentlySelectedOnly" ng-click="selectThisTab($event)" ng-dblclick="editCurrentTab()" ><span ng-class="{\'text-muted\': !tab.name}">{{ tab.name || (\'sparql.tab.directive.unnamed.tab.title\' | translate)}}</span><button type="button" ng-click="deleteTab($event)" class="btn btn-link btn-sm secondary delete-sparql-tab-btn" title="Delete tab"><i class="icon-close"></i></button></a>',replace:!0,controller:["$scope","$element","$rootScope","ModalService","toastr","$translate",function(e,r,a,o,i,s){function c(e){return $(e).attr("data-id")}function l(e){$('a[data-id = "'+e+'"]').tab("show")}e.state={},$(r).on("shown.bs.tab",(function(e){a.$broadcast("tabAction",e)})),e.deleteTab=function(d){if(d.preventDefault(),d.stopPropagation(),e.tabs.length<2)return void i.warning(s.instant("sparql.tab.directive.close.last.warning"));d.shiftKey?(e.state.selectedTabId=c(r),o.openSimpleModal({title:s.instant("common.confirm"),message:s.instant("sparql.tab.directive.delete.all.tabs.warning"),warning:!0}).result.then((function(){var r;r=e.state.selectedTabId,e.tabs=e.tabs.filter((function(e){if(e.id===r)return e})),l(e.tabs[0].id),t.set(n.TABS_STATE,e.tabs),a.$broadcast("deleteAllexeptSelected",e.tabs)}))):(e.state.idForDelete=c(r),o.openSimpleModal({title:s.instant("common.confirm"),message:s.instant("sparql.tab.directive.close.tab.warning"),warning:!0}).result.then((function(){!function(t){if(angular.isUndefined(t))throw"Delete by id was called with undefined id";const n=function(t){for(let n=0;n<e.tabs.length;n++){if(e.tabs[n].id===t)return n}}(t);e.tabs.splice(n,1),t===e.currentQuery.id&&e.tabs.length>0&&l(n>0?e.tabs[n-1].id:e.tabs[0].id)}(e.state.idForDelete)})));angular.element(document).find(".CodeMirror textarea:first-child").focus()},e.editCurrentTab=function(){if(c(r)!==e.currentQuery.id)return;e.editCurrentlySelectedOnly.$show();const t=$(".editable-buttons");t.children(".btn.btn-primary").addClass("btn-sm"),t.children(".btn.btn-default").addClass("btn-sm"),$(".editable-controls .editable-input").addClass("form-control-sm").on("change",(function(t){e.currentQuery.name=t.currentTarget.$$currentValue})),$(".editable-buttons .glyphicon.glyphicon-ok").removeClass("glyphicon glyphicon-ok").addClass("fa fa-check"),$(".editable-buttons .glyphicon.glyphicon-remove").removeClass("glyphicon glyphicon-remove").addClass("fa fa-close")},e.selectThisTab=function(t){t.preventDefault(),t.stopPropagation(),e.isTabChangeOk(!1)&&$(r).tab("show")}}]}}angular.module("graphdb.framework.core.directives.queryeditor.sparqltab",["graphdb.framework.core","graphdb.framework.utils.localstorageadapter"]).directive("sparqlTab",r),r.$inject=["$rootScope","LocalStorageAdapter","LSKeys","ModalService"]}}]);
//# sourceMappingURL=18.883de13f096fc9a7b872.bundle.js.map