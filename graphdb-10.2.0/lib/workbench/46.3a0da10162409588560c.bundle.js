(window.webpackJsonp=window.webpackJsonp||[]).push([[46,111],{38:function(t,e,a){"use strict";a.r(e),a.d(e,"ChartData",(function(){return i}));class i{getChartOptions(t){return{chart:{interpolate:"monotone",type:"lineChart",height:500,margin:{left:80,right:80},x:function(t){return t[0]},y:function(t){return t[1]},clipEdge:!0,noData:t.instant("resource.no_data"),showControls:!1,duration:0,rightAlignYAxis:!1,useInteractiveGuideline:!0,xAxis:{showMaxMin:!1,tickFormat:function(t){return d3.time.format("%X")(new Date(t))}},yAxis:{showMaxMin:!1,tickFormat:function(t){return t}},legend:{maxKeyLength:100},color:d3.scale.category10().range()},title:{enable:!0,text:this.getTitle()},subtitle:{className:"chart-additional-info",enable:!0,text:this.getSubTitle()}}}getTitle(){return"No chart title set"}setTitle(t){this.chartOptions.title.enable=!0,this.chartOptions.title.text=t}getSubTitle(){}setSubTitle(t){this.chartOptions.subtitle.enable=!0,this.chartOptions.subtitle.html=t}static get DEFAULT_MULTIPLIER(){return 1.2}static get MAXIMUM_DIVISIONS(){return 10}constructor(t,e,a,i){this.disableRangeUpdate=a,this.disableOldDataRemoval=i,this.translateService=t,this.range=150,this.chartOptions=this.getChartOptions(t),this.chartSetup(this.chartOptions),this.dataHolder=this.createDataHolder(),this.firstLoad=!0}chartSetup(t){}createDataHolder(){throw new Error("Must implement data holder creation")}addData(t,e){this.disableOldDataRemoval||this.removeOldData(this.dataHolder,this.range),this.addNewData(this.dataHolder,t,e,this.isFirstLoad()),this.disableRangeUpdate||this.updateRange(this.dataHolder),this.firstLoad&&(this.firstLoad=!1)}removeOldData(t,e){t[0].values.length>e&&t.forEach(t=>t.values.shift())}addNewData(t,e,a,i){}updateRange(t,e){const[a]=i.calculateMaxChartValueAndDivisions(t,e);this.chartOptions.chart.yDomain=[0,a]}isFirstLoad(){return this.firstLoad}static getMaxValueFromDataHolder(t){return Math.max(...t.filter(t=>!t.disabled).flatMap(t=>i.getMaxValueForDataSeries(t)))}static getMaxValueForDataSeries(t){return Math.max(...t.values.map(t=>t[1]))}static calculateMaxChartValueAndDivisions(t,e){let a;a=Array.isArray(t)?i.getMaxValueFromDataHolder(t):i.getMaxValueForDataSeries(t);const s=Math.round(a*(e||i.DEFAULT_MULTIPLIER))||1;return[s,Math.ceil(s/i.MAXIMUM_DIVISIONS)]}static getIntegerRangeForValues(t,e){const[a,s]=i.calculateMaxChartValueAndDivisions(t,e);return d3.range(0,a+1,s)}}},54:function(t,e,a){"use strict";a.r(e),a.d(e,"EpoolChart",(function(){return s}));var i=a(38);class s extends i.ChartData{constructor(t,e){super(t,e,!1,!1)}chartSetup(t){const e={type:"multiChart",yAxis1:{showMaxMin:!1,axisLabel:this.translateService.instant("resource.epool.reads"),axisLabelDistance:-10,rotateYLabel:!0,tickFormat:function(t){return t},tickValues:()=>s.getIntegerRangeForValues(this.dataHolder[0])},yAxis2:{showMaxMin:!1,axisLabel:this.translateService.instant("resource.epool.writes"),axisLabelDistance:-10,rotateYLabel:!0,tickFormat:function(t){return t},tickValues:()=>s.getIntegerRangeForValues(this.dataHolder[1])},y1Domain:[0,1],y2Domain:[0,1]};Object.assign(t.chart,e)}getTitle(){return this.translateService.instant("resource.epool.label")}createDataHolder(){return[{key:this.translateService.instant("resource.epool.reads"),type:"line",yAxis:1,values:[]},{key:this.translateService.instant("resource.epool.writes"),type:"line",yAxis:2,values:[]}]}addNewData(t,e,a,i){const s=a.performanceData,[r,n]=t;let o=0,l=0;const h=s.entityPool.epoolReads,c=s.entityPool.epoolWrites;if(!i){o=h-r.values[r.values.length-1][2],l=c-n.values[r.values.length-1][2]}r.values.push([e,o,h]),n.values.push([e,l,c])}updateRange(t){this.chartOptions.chart.yDomain1=this.getAxisDomain(t[0]),this.chartOptions.chart.yDomain2=this.getAxisDomain(t[1])}getAxisDomain(t){const[e]=s.calculateMaxChartValueAndDivisions(t);return[0,e]}}}}]);
//# sourceMappingURL=46.3a0da10162409588560c.bundle.js.map