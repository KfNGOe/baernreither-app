(window.webpackJsonp=window.webpackJsonp||[]).push([[9,70,93,288,293,330],{113:function(e,t){angular.module("graphdb.framework.rest.cluster.service",[]).factory("ClusterRestService",o),o.$inject=["$http"];function o(e){return{getClusterConfig:function(){return e.get("rest/cluster/config")},createCluster:function(t){return e.post("rest/cluster/httpConfig",t)},updateClusterConfiguration:function(t){t.nodes&&delete t.nodes;return e.patch("rest/cluster/config",t)},deleteCluster:function(t){const o=$.param({force:t});return e.delete("rest/cluster/config?"+o)},replaceNodesInCluster:function(t){return e.patch("rest/cluster/httpConfig",t)},getClusterStatus:function(){return e.get("rest/cluster/group/status")},getNodeStatus:function(){return e.get("rest/cluster/node/status")},addCusterTag:function(t){return e.post("rest/cluster/config/tag",t)},deleteClusterTag:function(t){return e({method:"DELETE",url:"rest/cluster/config/tag",data:{tag:t},headers:{"Content-type":"application/json;charset=utf-8"}})},disableSecondaryMode:function(){return e.delete("rest/cluster/config/secondary-mode")},enableSecondaryMode:function(t){return e.post("rest/cluster/config/secondary-mode",t)}}}},117:function(e,t,o){"use strict";o.r(t),o.d(t,"UrlUtils",(function(){return n}));const r=/^(h|ht|htt|http|https|http:|https:|http:\/|https:\/|http:\/\/|https:\/\/|https?:\/\/[\S]*)$/i,i=/^(f|ft|ftp|ftps|ftp:|ftps:|ftp:\/|ftps:\/|ftp:\/\/|ftps:\/\/[\S]*)$/i;class n{static isValidUrl(e){return r.test(e)||i.test(e)}static doesNotContain(e,t){return!new RegExp(t).test(e)}static doesNotUseProtocol(e,t){return!new RegExp("^("+t.join("|")+")://","i").test(e)}}},133:function(e,t,o){"use strict";o.r(t),o.d(t,"STATIC_RULESETS",(function(){return r})),o.d(t,"REPOSITORY_TYPES",(function(){return i})),o.d(t,"FILENAME_PATTERN",(function(){return n})),o.d(t,"NUMBER_PATTERN",(function(){return a}));const r=[{id:"empty",name:"No inference"},{id:"rdfs-optimized",name:"RDFS (Optimized)"},{id:"rdfs",name:"RDFS"},{id:"rdfsplus-optimized",name:"RDFS-Plus (Optimized)"},{id:"owl-horst-optimized",name:"OWL-Horst (Optimized)"},{id:"owl-horst",name:"OWL-Horst"},{id:"owl2-ql-optimized",name:"OWL2-QL (Optimized)"},{id:"owl2-ql",name:"OWL2-QL"},{id:"owl-max-optimized",name:"OWL-Max (Optimized)"},{id:"owl-max",name:"OWL-Max"},{id:"owl2-rl-optimized",name:"OWL2-RL (Optimized)"},{id:"owl2-rl",name:"OWL2-RL"}],i={graphdbRepo:"graphdb",free:"free",eeWorker:"worker",eeMaster:"master",ontop:"ontop",se:"se",fedx:"fedx"},n=new RegExp("^[a-zA-Z0-9-_]+$"),a=new RegExp("^[0-9]+$")},134:function(e,t,o){"use strict";o.r(t);var r=o(117);angular.module("graphdb.framework.core.directives.validate-url",[]).directive("validateUrl",(function(){return{restrict:"A",require:"ngModel",link:function(e,t,o,i){i.$validators.validUrl=function(e,t){if(i.$isEmpty(t))return"false"!==o.allowEmpty;if(!r.UrlUtils.isValidUrl(t))return!1;if(o.exclude&&!r.UrlUtils.doesNotContain(t,o.exclude))return!1;if(o.excludeProtocol){const e=o.excludeProtocol.split(",");if(!r.UrlUtils.doesNotUseProtocol(t,e))return!1}return!0}}}}))},155:function(e,t,o){"use strict";o.r(t),o.d(t,"getFileName",(function(){return a}));var r=o(133),i=o(0),n=(o(211),o(28));o(113);const a=function(e){let t=e.lastIndexOf("/");-1===t&&(t=e.lastIndexOf("\\"));let o=e;return-1!==t&&(o=o.substring(t+1)),o},s=function(e){e&&(e.queryTimeout&&(e.queryTimeout.value=parseInt(e.queryTimeout.value)),e.queryLimitResults&&e.validationResultsLimitTotal&&e.validationResultsLimitPerConstraint?(e.queryLimitResults.value=parseInt(e.queryLimitResults.value),e.validationResultsLimitTotal.value=parseInt(e.validationResultsLimitTotal.value),e.validationResultsLimitPerConstraint.value=parseInt(e.validationResultsLimitPerConstraint.value)):e.leftJoinWorkerThreads&&e.boundJoinBlockSize&&e.joinWorkerThreads&&e.unionWorkerThreads&&(e.leftJoinWorkerThreads.value=parseInt(e.leftJoinWorkerThreads.value),e.boundJoinBlockSize.value=parseInt(e.boundJoinBlockSize.value),e.joinWorkerThreads.value=parseInt(e.joinWorkerThreads.value),e.unionWorkerThreads.value=parseInt(e.unionWorkerThreads.value)))},l=function(){const e=document.getElementById("shaclOptions");if(e){const t=e.getAttribute("aria-expanded");if(t&&"true"===t)return"fa fa-angle-down"}return"fa fa-angle-right"},c=function(e,t){e.queryTimeout&&(t.isInvalidQueryTimeout=!r.NUMBER_PATTERN.test(e.queryTimeout.value)),e.validationResultsLimitTotal&&e.validationResultsLimitPerConstraint&&e.queryLimitResults?(t.isInvalidValidationResultsLimitTotal=!r.NUMBER_PATTERN.test(e.validationResultsLimitTotal.value),t.isInvalidValidationResultsLimitPerConstraint=!r.NUMBER_PATTERN.test(e.validationResultsLimitPerConstraint.value),t.isInvalidQueryLimit=!r.NUMBER_PATTERN.test(e.queryLimitResults.value)):e.leftJoinWorkerThreads&&e.boundJoinBlockSize&&e.joinWorkerThreads&&e.unionWorkerThreads&&(t.isInvalidLeftJoinWorkerThreads=!r.NUMBER_PATTERN.test(e.leftJoinWorkerThreads.value),t.isInvalidBoundJoinBlockSize=!r.NUMBER_PATTERN.test(e.boundJoinBlockSize.value),t.isInvalidJoinWorkerThreads=!r.NUMBER_PATTERN.test(e.joinWorkerThreads.value),t.isInvalidUnionWorkerThreads=!r.NUMBER_PATTERN.test(e.unionWorkerThreads.value))},u=function(e,t){return"isInvalidQueryLimit"===e?t.instant("invalid.query.limit"):"isInvalidQueryTimeout"===e?t.instant("invalid.query.timeout"):"isInvalidValidationResultsLimitTotal"===e?t.instant("invalid.validation.results.limit.total"):"isInvalidValidationResultsLimitPerConstraint"===e?t.instant("invalid.validation.results.limit.per.constraint"):"isInvalidJoinWorkerThreads"===e?t.instant("invalid.join.worker.threads"):"isInvalidLeftJoinWorkerThreads"===e?t.instant("invalid.left.join.worker.threads"):"isInvalidUnionWorkerThreads"===e?t.instant("invalid.union.worker.threads"):"isInvalidBoundJoinBlockSize"===e?t.instant("invalid.bound.join.block.size"):void 0},d=function(e,t){const o=Object.keys(e),r=Object.values(e);for(let e=0;e<o.length;e++)if(r[e])return u(o[e],t);return""},p=function(e){return"https://graphdb.ontotext.com/documentation/"+e.productShortVersion},f=function(e){return e.getLocations().then(e=>e.filter(e=>e.isGraphDBLocation()&&!e.errorMsg&&!e.degradedReason))};function m(e,t,o,a,s,l,c,u,d,p,f,m,g,y){e.RemoteLocationType=n.RemoteLocationType,e.loader=!0,e.isInCluster=!1,e.locations=[],e.isLocationInactive=function(t){return!t.active||!e.hasActiveLocation()};const v=m.defer();function R(){return s.getLocations(v).then(t=>(e.locations=t,t)).finally(()=>e.loader=!1)}e.getLocalLocation=(t,o)=>e.locations.filter(e=>{let r=!0;return o&&(r=e.locationType===o),r&&e.local===t}),e.hasAnyRemoteLocation=(t,o)=>o.some(o=>e.getLocalLocation(t,o).length>0),e.hasActiveLocation=function(){return s.hasActiveLocation()},e.getActiveLocation=function(){return s.getActiveLocation()},e.getLocationError=function(){return s.getLocationError()},e.getDegradedReason=function(){return s.getDegradedReason()},e.getRepositories=function(){return s.getRepositories()},e.isRepoActive=function(e){return s.isRepoActive(e)},e.deleteLocation=function(t){l.openSimpleModal({title:f.instant("location.confirm.detach"),message:f.instant("location.confirm.detach.warning",{uri:t}),warning:!0}).result.then((function(){e.loader=!0,s.deleteLocation(t).finally(()=>R())}))},e.addLocationHttp=function(t){e.loader=!0,u.addLocation(t).success((function(){s.init()})).error((function(e){const t=getError(e);a.error(t,f.instant("common.error"))})).finally(()=>R())},e.addLocation=()=>{e.openRemoteLocationDialog()},e.editLocation=t=>{void 0===t.locationType&&(t.locationType=n.RemoteLocationType.GRAPH_DB),e.openRemoteLocationDialog(t)},e.openRemoteLocationDialog=t=>{o.open({templateUrl:"js/angular/repositories/templates/manage-remote-location-dialog.template.html",windowClass:"addLocationDialog",controller:"ManageRemoteLocationDialogController",resolve:{data:()=>({remoteLocation:t})}}).result.then(o=>{t?e.editLocationHttp(o):e.addLocationHttp(o)})},e.editLocationHttp=function(t){e.loader=!0,u.editLocation(t).success((function(){s.init()})).error((function(e){const t=getError(e);a.error(t,f.instant("common.error"))})).finally(()=>R())},e.setRepository=function(e){s.setRepository(e)},e.deleteRepository=function(t){l.openSimpleModal({title:f.instant("common.confirm.delete"),message:Object(i.decodeHTML)(f.instant("delete.repo.warning.msg",{repositoryId:t.id})),warning:!0}).result.then((function(){e.loader=!0,s.deleteRepository(t).finally(()=>{R(),e.loader=!1}),function(e){const t="dependencies-selectedGraph-"+e.id,o="classHierarchy-selectedGraph-"+e.id;angular.forEach(d.keys(),(function(e){(e.startsWith(o)||e.startsWith(t))&&d.remove(e)}))}(t)}))},e.restartRepository=function(t){l.openSimpleModal({title:f.instant("confirm.restart.repo"),message:Object(i.decodeHTML)(f.instant("confirm.restart.repo.warning.msg",{repositoryId:t.id})),warning:!0}).result.then((function(){e.loader=!0,s.restartRepository(t).finally(()=>R())}))},e.toggleDefaultRepository=function(t){e.getDefaultRepository()===t?s.setDefaultRepository(null):s.setDefaultRepository(t)},e.getDefaultRepository=function(){return s.getDefaultRepository()},e.getRepositoryDownloadLink=function(e){let t=`rest/repositories/${e.id}${e.type===r.REPOSITORY_TYPES.ontop?"/download-zip":"/download-ttl"}?location=${e.location}`;const o=c.getAuthToken();return o&&(t=`${t}&authToken=${encodeURIComponent(o)}`),t},e.copyToClipboard=function(e){l.openCopyToClipboardModal(e)},e.fromFile=function(){o.open({templateUrl:"js/angular/templates/modal/upload-repository-config.html",controller:"UploadRepositoryConfigCtrl"}).result.then((function(){s.init()}))},e.openActiveLocationSettings=function(){o.open({templateUrl:"js/angular/settings/modal/location-settings.html",controller:"ActiveLocationSettingsCtrl"})},R(),y.getNodeStatus().then(()=>{e.isInCluster=!0}).catch(t=>{404===t.status?e.isInCluster=!1:console.error("An unexpected error occurred:",t)});const T=p((function(){g.isActive()&&!t.guidePaused||(s.initQuick(),R())}),5e3);e.$on("$destroy",(function(){p.cancel(T),v&&v.resolve()})),e.getRepositoriesFromLocation=function(e){return s.getRepositoriesFromLocation(e)}}function g(e,t,o,r,i){e.upload=function(t){t&&t.length&&(e.uploadFile=t[0])},e.ok=function(){e.uploadFile&&(e.uploadFileLoader=!0,o.upload({url:"rest/repositories",method:"POST",data:{config:e.uploadFile}}).success((function(){e.uploadFileLoader=!1,t.close()})).error((function(t){const o=getError(t);r.error(o,i.instant("common.error")),e.uploadFileLoader=!1})))},e.cancel=function(){t.dismiss("cancel")}}function y(e,t,o,r,i){e.newLocation={uri:"",authType:"none",username:"",password:"",active:!1},e.docBase=p(r),e.isValidLocation=function(){return(e.newLocation.uri.length<6||0===e.newLocation.uri.indexOf("http:")||0===e.newLocation.uri.indexOf("https:"))&&e.newLocation.uri.indexOf("/repositories")<=-1},e.ok=function(){e.newLocation?t.close(e.newLocation):o.error(i.instant("location.cannot.be.empty.error"))},e.cancel=function(){t.dismiss("cancel")}}function v(e,t,o,r){e.editedLocation=_.cloneDeep(o),e.docBase=p(r),e.ok=function(){t.close(e.editedLocation)},e.cancel=function(){t.dismiss("cancel")}}function R(e,t){e.repositoryTypes=r.REPOSITORY_TYPES,e.chooseRepositoryType=function(e){t.path(`${t.path()}/${e}`)}}function T(e,t,o,i,n,a,u,p,m,g){function y(e){switch(e){case r.REPOSITORY_TYPES.graphdbRepo:t.pageTitle=g.instant("view.create.repo.title",{repoType:"GraphDB"});break;case r.REPOSITORY_TYPES.ontop:t.pageTitle=g.instant("view.create.repo.title",{repoType:"Ontop Virtual SPARQL"});break;case r.REPOSITORY_TYPES.fedx:t.pageTitle=g.instant("view.create.repo.title",{repoType:"FedX Virtual SPARQL"})}}var v;t.rulesets=r.STATIC_RULESETS.slice(),t.repositoryTypes=r.REPOSITORY_TYPES,t.params=p,t.repositoryType=p.repositoryType,t.enable=!0,t.loader=!0,t.pageTitle=g.instant("view.create.repo.title"),t.repositoryInfo={id:"",params:{},title:"",type:"",location:""},t.invalidValues={isInvalidQueryTimeout:!1,isInvalidQueryLimit:!1,isInvalidLeftJoinWorkerThreads:!1,isInvalidBoundJoinBlockSize:!1,isInvalidJoinWorkerThreads:!1,isInvalidUnionWorkerThreads:!1,isInvalidValidationResultsLimitPerConstraint:!1,isInvalidValidationResultsLimitTotal:!1},f(i).then(e=>{t.locations=e}),t.changedLocation=function(){t.$broadcast("changedLocation")},t.getConfig=function(e){m.getRepositoryConfiguration(e).then((function(e){const o=e.data;var r;t.repositoryInfo.params=o.params,t.repositoryInfo.type=o.type,s(t.repositoryInfo.params),(r=t.repositoryInfo.params)&&r.member&&(r.member.value=[]),t.loader=!1,a((function(){angular.element(document).find("#id").focus()}),50)})).catch((function(e){const r=getError(e);o.error(r,g.instant("common.error")),t.loader=!1}))},t.repositoryType&&(function(e){return t.isEnterprise()&&e===r.REPOSITORY_TYPES.graphdbRepo}(v=t.repositoryType)||function(e){return!t.isFreeEdition()&&!t.isEnterprise()&&e===r.REPOSITORY_TYPES.graphdbRepo}(v)||function(e){return t.isFreeEdition()&&e===r.REPOSITORY_TYPES.graphdbRepo}(v)||function(e){return e===r.REPOSITORY_TYPES.ontop}(v)||function(e){return e===r.REPOSITORY_TYPES.fedx}(v))?(t.repositoryInfo.type=t.repositoryType,t.getConfig(t.repositoryType),y(t.repositoryType)):n.path("/repository/create"),t.hasActiveLocation=function(){return i.hasActiveLocation()},t.activeLocation=function(){return i.getActiveLocation()};let R=!1;t.uploadRuleset=function(e){e&&e.length&&(t.uploadFile=e[0],t.uploadFileLoader=!0,u.upload({url:"rest/repositories/ruleset/upload",data:{ruleset:t.uploadFile,location:t.repositoryInfo.location}}).progress((function(e){})).success((function(e){if(e.success){R=!1;const o=t.uploadFile.name,r={id:e.fileLocation,name:"Custom: "+o};t.rulesetPie?t.rulesets[0]=r:t.rulesets.unshift(r),t.rulesetPie=e.fileLocation,t.rulesetPieFile=o,t.repositoryInfo.params.ruleset.value=t.rulesetPie}else o.error(e.errorMessage),R=!0,t.uploadFile="";t.uploadFileLoader=!1})).error((function(e){const r=getError(e);o.error(r,g.instant("common.error")),t.uploadFile="",t.uploadFileLoader=!1,R=!0})))},t.noMembersError=function(){o.error(g.instant("fedx.create.repo.no.members.warning"))},t.goBackToPreviousLocation=function(){angular.isDefined(p.previous)?(delete n.$$search.previous,n.path("/")):n.path("/repository")},t.createRepoHttp=function(){t.loader=!0,m.createRepository(t.repositoryInfo).then((function(){return o.success(g.instant("created.repo.success.msg",{repoId:t.repositoryInfo.id})),i.init()})).then(()=>t.goBackToPreviousLocation()).catch((function(e){const t=getError(e.data);o.error(t,g.instant("common.error"))})).finally(()=>{t.loader=!1})},t.createRepo=function(){if(!t.repositoryInfo.id)return void o.error(g.instant("empty.repoid.warning"));t.isInvalidRepoName=!r.FILENAME_PATTERN.test(t.repositoryInfo.id),c(t.repositoryInfo.params,t.invalidValues);const e=d(t.invalidValues,g);R?o.error(g.instant("invalid.ruleset.file.error")):t.isInvalidRepoName?o.error(g.instant("wrong.repo.name.error")):"fedx"===t.repositoryType&&0===t.repositoryInfo.params.member.value.length?t.noMembersError():e?o.error(e):t.createRepoHttp()},t.rulesetWarning=function(){const e=t.repositoryInfo.params;return void 0===e||void 0===e.ruleset||void 0===e.disableSameAs?"":0===e.ruleset.value.indexOf("owl")&&"true"===e.disableSameAs.value?g.instant("repoTooltips.rulesetWarnings.needsSameAs"):0===e.ruleset.value.indexOf("rdfs")&&"false"===e.disableSameAs.value?g.instant("repoTooltips.rulesetWarnings.doesntNeedSameAs"):e.ruleset.value===t.rulesetPie?g.instant("repoTooltips.rulesetWarnings.customRuleset"):""},t.validateNumberInput=function(){c(t.repositoryInfo.params,t.invalidValues)},t.getShaclOptionsClass=function(){return l()},t.autofocusId="autofocus";const T=e.$on("$translateChangeSuccess",()=>{y(t.repositoryType)});t.$on("$destroy",()=>{T()})}function h(e,t,o,r,i,n,a){e.dialogTitle=a||n.instant("update.file.content.header"),r&&o.getRepositoryFileContent(r).success((function(t){e.fileContent=t})).error((function(e){const t=getError(e);i.error(t,n.instant("common.error"))})),e.ok=function(){t.close({content:e.fileContent,fileLocation:r})},e.cancel=function(){t.dismiss("cancel")}}function L(e,t,o,n,u,p,m,g,y,v){t.rulesets=r.STATIC_RULESETS.slice(),t.repositoryTypes=r.REPOSITORY_TYPES,t.editRepoPage=!0,t.canEditRepoId=!1,t.isRepoInCluster=!0,t.params=o,t.loader=!0,t.repositoryInfo={},t.repositoryInfo.id=t.params.repositoryId,t.repositoryInfo.location=t.params.location,t.repositoryInfo.restartRequested=!1,t.repositoryType="",t.saveRepoId=t.params.repositoryId,t.pageTitle=y.instant("view.edit.repo.title",{repositoryId:t.params.repositoryId}),t.invalidValues={isInvalidQueryTimeout:!1,isInvalidQueryLimit:!1,isInvalidLeftJoinWorkerThreads:!1,isInvalidBoundJoinBlockSize:!1,isInvalidJoinWorkerThreads:!1,isInvalidUnionWorkerThreads:!1,isInvalidValidationResultsLimitPerConstraint:!1,isInvalidValidationResultsLimitTotal:!1},t.hasActiveLocation=function(){return u.hasActiveLocation()};t.$watch(t.hasActiveLocation,(function(){if(t.hasActiveLocation){let e;f(u).then(e=>(t.locations=e,g.getRepository(t.repositoryInfo))).then(o=>(e=o,v.monitorActiveOperations(t.repositoryInfo.id))).then(e=>{t.isRepoInCluster=e.hasClusterOperation()}).catch(o=>e?Promise.resolve():(t.repositoryInfo=void 0,Promise.reject(o))).then(()=>{(e=>{const o=e.data;if(angular.isDefined(o.params.ruleset)){let e=!1;if(angular.forEach(t.rulesets,(function(t){t.id===o.params.ruleset.value&&(e=!0)})),o.params.ruleset&&!e){const e=a(o.params.ruleset.value);t.rulesets.unshift({id:o.params.ruleset.value,name:"Custom: "+e})}}t.repositoryInfo=o,t.setRepositoryType(o.type),s(t.repositoryInfo.params),t.repositoryInfo.saveId=t.saveRepoId,t.loader=!1})(e)}).catch(e=>{const r=e.data,a=e.status,s=o.repositoryId;let l;l=404===a&&"system"!==s?Object(i.decodeHTML)(y.instant("edit.repo.error.not.exists",{repositoryId:s})):404===a&&"system"===s?Object(i.decodeHTML)(y.instant("edit.system.repo.warning")):getError(r),n.error(l,y.instant("common.error"),{allowHtml:!0}),404===a?setTimeout((function(){t.loader=!1,p.path("repository")}),1e3):t.loader=!1})}})),t.setRepositoryType=function(e){t.repositoryType=e},t.noMembersError=function(){n.error(y.instant("fedx.create.repo.no.members.warning"))},t.editRepoHttp=function(){t.loader=!0,g.editRepository(t.repositoryInfo.saveId,t.repositoryInfo).success((function(){n.success(y.instant("edit.repo.success.msg",{saveId:t.repositoryInfo.saveId})),u.init().finally(()=>t.goBackToPreviousLocation()),t.repositoryInfo.saveId===t.repositoryInfo.id&&t.repositoryInfo.restartRequested&&u.restartRepository(t.repositoryInfo)})).error((function(e){const o=getError(e);n.error(o,y.instant("common.error")),t.loader=!1}))},t.editRepository=function(){t.isInvalidRepoName=!r.FILENAME_PATTERN.test(t.repositoryInfo.id),c(t.repositoryInfo.params,t.invalidValues);const e=d(t.invalidValues,y);let o=Object(i.decodeHTML)(y.instant("edit.repo.save.changes.msg",{repoId:t.repositoryInfo.id}));t.repositoryInfo.saveId!==t.repositoryInfo.id?o+=Object(i.decodeHTML)(y.instant("edit.repo.rename.changes.msg")):t.repositoryInfo.restartRequested?o+=Object(i.decodeHTML)(y.instant("edit.repo.restart.requested.msg")):o+=Object(i.decodeHTML)(y.instant("edit.repo.restart.needed.msg")),t.isInvalidRepoName?n.error(y.instant("wrong.repo.name.error")):"fedx"===t.repositoryType&&0===t.repositoryInfo.params.member.value.length?t.noMembersError():e?n.error(e):m.openSimpleModal({title:y.instant("common.confirm.save"),message:o,warning:!0}).result.then((function(){t.editRepoHttp()}))},t.editRepositoryId=function(){if(t.isRepoInCluster)return;let e=Object(i.decodeHTML)(y.instant("edit.repo.id.warning.msg"));t.isEnterprise()&&(e+=Object(i.decodeHTML)(y.instant("edit.repo.id.cluster.warning.msg"))),m.openSimpleModal({title:y.instant("confirm.enable.edit"),message:e,warning:!0}).result.then((function(){t.canEditRepoId=!0}))},t.goBackToPreviousLocation=function(){angular.isDefined(o.previous)?(delete p.$$search.previous,p.path("/")):p.path("/repository")},t.validateNumberInput=function(){c(t.repositoryInfo.params,t.invalidValues)},t.getShaclOptionsClass=function(){return l()};const R=e.$on("$translateChangeSuccess",()=>{t.pageTitle=y.instant("view.edit.repo.title",{repositoryId:t.params.repositoryId})});t.$on("$destroy",()=>{R()})}angular.module("graphdb.framework.repositories.controllers",["ngCookies","ui.bootstrap","graphdb.framework.core.services.repositories","graphdb.framework.utils.localstorageadapter","toastr","ngFileUpload","graphdb.framework.repositories.controllers.manage-remote-location-dialog","graphdb.framework.rest.cluster.service"]).controller("LocationsAndRepositoriesCtrl",m).controller("AddLocationCtrl",y).controller("EditLocationCtrl",v).controller("ChooseRepositoryCtrl",R).controller("AddRepositoryCtrl",T).controller("EditRepositoryCtrl",L).controller("EditRepositoryFileCtrl",h).controller("UploadRepositoryConfigCtrl",g),m.$inject=["$scope","$rootScope","$uibModal","toastr","$repositories","ModalService","AuthTokenService","LocationsRestService","LocalStorageAdapter","$interval","$translate","$q","GuidesService","ClusterRestService"],g.$inject=["$scope","$uibModalInstance","Upload","toastr","$translate"],y.$inject=["$scope","$uibModalInstance","toastr","productInfo","$translate"],v.$inject=["$scope","$uibModalInstance","location","productInfo"],R.$inject=["$scope","$location"],T.$inject=["$rootScope","$scope","toastr","$repositories","$location","$timeout","Upload","$routeParams","RepositoriesRestService","$translate"],h.$inject=["$scope","$uibModalInstance","RepositoriesRestService","file","toastr","$translate","dialogTitle"],L.$inject=["$rootScope","$scope","$routeParams","toastr","$repositories","$location","ModalService","RepositoriesRestService","$translate","MonitoringRestService"]},211:function(e,t,o){"use strict";o.r(t);var r=o(28);o(134);function i(e,t,o,i){e.RemoteLocationType=r.RemoteLocationType,e.RemoteLocationAuthType=r.RemoteLocationAuthType,e.isEdit=!!i.remoteLocation,e.remoteLocation=i.remoteLocation?new r.RemoteLocationModel({...i.remoteLocation}):new r.RemoteLocationModel,e.docBase="https://graphdb.ontotext.com/documentation/"+o.productShortVersion,e.ok=()=>{e.remoteLocationForm.$pristine||e.remoteLocationForm.$invalid||t.close(e.remoteLocation)},e.cancel=()=>{t.dismiss("cancel")},e.onLocationTypeChanged=()=>{[r.RemoteLocationType.ONTOPIC,r.RemoteLocationType.SPARQL].includes(e.remoteLocation.locationType)?e.remoteLocation.authType=r.RemoteLocationAuthType.BASIC:e.remoteLocation.authType=r.RemoteLocationAuthType.NONE}}angular.module("graphdb.framework.repositories.controllers.manage-remote-location-dialog",["graphdb.framework.core.directives.validate-url"]).controller("ManageRemoteLocationDialogController",i),i.$inject=["$scope","$uibModalInstance","productInfo","data"]}}]);