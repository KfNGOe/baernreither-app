(window.webpackJsonp=window.webpackJsonp||[]).push([[75,199,321],{201:function(e,t,n){"use strict";n.r(t);var a=n(92),s=n(87);function i(e,t,n,i){return{restrict:"E",templateUrl:"js/angular/ttyg/templates/agent-select-menu.html",scope:{},link:n=>{n.agentOptionsList=[],n.selectedAgent=void 0,n.onAgentSelected=a=>{if(E(a),n.selectedAgent=a,e.selectAgent(a),a.isRepositoryDeleted){const n=t.instant("ttyg.agent.agent_select_menu.configure_agent_modal.title"),E=t.instant("ttyg.agent.agent_select_menu.configure_agent_modal.body");i.openConfirmation(n,E,()=>e.emit(s.TTYGEventName.EDIT_AGENT,a))}};const E=e=>{n.agentOptionsList.forEach(t=>{t.selected=t.data.agent===e})},l=e=>{n.agentOptionsList=e.agents.map(e=>new a.SelectMenuOptionsModel({value:e.id,label:e.name,data:{agent:e}}))},c=[];c.push(e.onAgentsListChanged(e=>{l(e)})),c.push(e.subscribe(s.TTYGEventName.AGENT_DELETED,t=>{n.selectedAgent&&n.selectedAgent.id===t.id&&(n.selectedAgent.isDeleted=!0,e.selectAgent(n.selectedAgent))})),c.push(e.onSelectedAgentChanged(e=>{E(e),n.selectedAgent=e})),n.$on("$destroy",()=>{c.forEach(e=>e())})}}}angular.module("graphdb.framework.ttyg.directives.agent-select-menu",[]).directive("agentSelectMenu",i),i.$inject=["TTYGContextService","$translate","$sce","ModalService"]},87:function(e,t,n){"use strict";n.r(t),n.d(t,"TTYGEventName",(function(){return i}));var a=n(18);function s(e){let t=void 0,n=void 0,s=void 0,E=void 0,l={},c=void 0,_=!1;const d=()=>Object(a.cloneDeep)(t),o=()=>Object(a.cloneDeep)(n),A=e=>{n=Object(a.cloneDeep)(e),h(i.CHAT_LIST_UPDATED,o())},T=()=>Object(a.cloneDeep)(s),u=()=>Object(a.cloneDeep)(E),g=()=>Object(a.cloneDeep)(l),r=e=>!!l[e],C=()=>_,h=(t,n)=>{e.emitSync(t,Object(a.cloneDeep)(n))},D=(t,n)=>e.subscribeSync(t,e=>n(e));return{resetContext:()=>{t=void 0,n=void 0,s=void 0,E=void 0,l={},c=void 0,_=!1},emit:h,subscribe:D,getChats:o,updateChats:A,addChat:e=>{n.appendChat(e),A(n)},replaceChat:(e,t)=>{n.replaceChat(e,t),A(n)},onChatsListChanged:e=>(n&&angular.isFunction(e)&&e(o()),D(i.CHAT_LIST_UPDATED,t=>e(t))),getSelectedChat:T,selectChat:e=>{s&&s.id===e.id||(s=Object(a.cloneDeep)(e),h(i.SELECT_CHAT,T()))},deselectChat:()=>{s=void 0,h(i.SELECT_CHAT,T())},deleteChat:e=>{n.deleteChat(e),A(n)},onSelectedChatChanged:e=>(angular.isFunction(e)&&e(T()),D(i.SELECT_CHAT,t=>e(t))),updateSelectedChat:e=>{s&&s.id&&e&&s.id!==e.id||(s=Object(a.cloneDeep)(e),h(i.SELECTED_CHAT_UPDATED,T()))},onSelectedChatUpdated:e=>(s&&angular.isFunction(e)&&e(T()),D(i.SELECTED_CHAT_UPDATED,t=>e(t))),onLastMessageReceived:e=>(s&&angular.isFunction(e)&&e(T()),D(i.LAST_MESSAGE_RECEIVED,t=>e(t))),updateAgents:e=>{t=Object(a.cloneDeep)(e),h(i.AGENT_LIST_UPDATED,d())},onAgentsListChanged:e=>(t&&angular.isFunction(e)&&e(d()),D(i.AGENT_LIST_UPDATED,t=>e(t))),getAgents:d,getAgent:e=>{if(t)return Object(a.cloneDeep)(t.getAgent(e))},selectAgent:e=>{E=Object(a.cloneDeep)(e),h(i.AGENT_SELECTED,u())},getSelectedAgent:u,onSelectedAgentChanged:e=>(E&&angular.isFunction(e)&&e(u()),D(i.AGENT_SELECTED,t=>e(t))),getDefaultAgent:()=>Object(a.cloneDeep)(c),setDefaultAgent:e=>{c=e},setCanModifyAgent:e=>{_=Object(a.cloneDeep)(e),h(i.CAN_MODIFY_AGENT_UPDATED,C())},getCanModifyAgent:C,onCanUpdateAgentUpdated:e=>(angular.isFunction(e)&&e(C()),D(i.CAN_MODIFY_AGENT_UPDATED,t=>e(t))),hasExplainResponse:r,toggleExplainResponse:e=>{r(e)&&(l[e].expanded=!l[e].expanded,h(i.EXPLAIN_RESPONSE_CACHE_UPDATED,g()))},getExplainResponse:e=>Object(a.cloneDeep)(l[e]),addExplainResponseCache:e=>{l[e.answerId]=Object(a.cloneDeep)(e),h(i.EXPLAIN_RESPONSE_CACHE_UPDATED,g())},onExplainResponseCacheUpdated:e=>(angular.isFunction(e)&&e(g()),D(i.EXPLAIN_RESPONSE_CACHE_UPDATED,t=>e(t)))}}angular.module("graphdb.framework.ttyg.services.ttygcontext",[]).factory("TTYGContextService",s),s.$inject=["EventEmitterService","TTYGService"];const i={CREATE_CHAT:"createChat",CREATE_CHAT_SUCCESSFUL:"chatCreated",CREATE_CHAT_FAILURE:"chatCreationFailed",RENAME_CHAT:"renameChat",RENAME_CHAT_SUCCESSFUL:"chatRenamed",RENAME_CHAT_FAILURE:"chatRenamedFailure",SELECT_CHAT:"selectChat",SELECTED_CHAT_UPDATED:"selectChatUpdated",LAST_MESSAGE_RECEIVED:"lastMessageReceived",DELETING_CHAT:"deletingChat",DELETE_CHAT:"deleteChat",DELETE_CHAT_SUCCESSFUL:"chatDeleted",DELETE_CHAT_FAILURE:"chatDeletedFailure",CHAT_EXPORT:"chatExport",CHAT_EXPORT_SUCCESSFUL:"chatExportSuccess",CHAT_EXPORT_FAILURE:"chatExportFailure",CHAT_LIST_UPDATED:"chatListUpdated",ASK_QUESTION:"askQuestion",ASK_QUESTION_FAILURE:"askQuestionFailure",CONTINUE_CHAT_RUN:"continueChatRun",LOAD_CHATS:"loadChats",LOAD_CHAT_SUCCESSFUL:"loadChatSuccess",LOAD_CHAT_FAILURE:"loadChatFailure",AGENT_LIST_UPDATED:"agentListUpdated",OPEN_AGENT_SETTINGS:"openAgentSettings",EDIT_AGENT:"editAgent",CLONE_AGENT:"cloneAgent",DELETE_AGENT:"deleteAgent",AGENT_DELETED:"agentDeleted",DELETING_AGENT:"deletingAgent",AGENT_SELECTED:"agentSelected",GO_TO_CREATE_SIMILARITY_VIEW:"goToCreateSimilarityView",GO_TO_CONNECTORS_VIEW:"goToConnectorsView",EXPLAIN_RESPONSE:"explainResponse",EXPLAIN_RESPONSE_CACHE_UPDATED:"explainResponseCacheUpdated",GO_TO_SPARQL_EDITOR:"openQueryInSparqlEditor",CAN_MODIFY_AGENT_UPDATED:"canModifyAgentUpdated"}},92:function(e,t,n){"use strict";n.r(t),n.d(t,"SelectMenuOptionsModel",(function(){return a})),n.d(t,"TextFieldModel",(function(){return s})),n.d(t,"NumericRangeModel",(function(){return i}));class a{constructor({label:e,value:t,selected:n=!1,data:a={}}){this._label=e,this._value=t,this._selected=n,this._data=a}get label(){return this._label}set label(e){this._label=e}get value(){return this._value}set value(e){this._value=e}get selected(){return this._selected}set selected(e){this._selected=e}get data(){return this._data}set data(e){this._data=e}}class s{constructor(e){this._value=e.value,this._minLength=e.minLength,this._maxLength=e.maxLength}get value(){return this._value}set value(e){this._value=e}get maxLength(){return this._maxLength}set maxLength(e){this._maxLength=e}get minLength(){return this._minLength}set minLength(e){this._minLength=e}}class i{constructor(e){this._value=e.value,this._minValue=e.minValue,this._maxValue=e.maxValue,this._step=e.step}get value(){return this._value}set value(e){this._value=e}get minValue(){return this._minValue}set minValue(e){this._minValue=e}get maxValue(){return this._maxValue}set maxValue(e){this._maxValue=e}get step(){return this._step}set step(e){this._step=e}}}}]);